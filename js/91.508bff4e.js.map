{"version":3,"file":"js/91.508bff4e.js","mappings":"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","sources":["webpack://vuetools/./src/views/vueBaiDuMapDoST/vueBaiDuMapDoST.vue","webpack://vuetools/./src/views/vueBaiDuMapDoST/trackPlaybackDialog.vue","webpack://vuetools/src/views/vueBaiDuMapDoST/trackPlaybackDialog.vue","webpack://vuetools/./src/views/vueBaiDuMapDoST/trackPlaybackDialog.vue?0da5","webpack://vuetools/./src/views/vueBaiDuMapDoST/trackPlaybackDialog.vue?e4c6","webpack://vuetools/src/views/vueBaiDuMapDoST/vueBaiDuMapDoST.vue","webpack://vuetools/./src/views/vueBaiDuMapDoST/vueBaiDuMapDoST.vue?d5ea","webpack://vuetools/./src/views/vueBaiDuMapDoST/vueBaiDuMapDoST.vue?7e93"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"bdMap\"},[_c('baidu-map',{staticClass:\"map\",attrs:{\"center\":_vm.mapCenter,\"zoom\":_vm.mapZoom,\"scroll-wheel-zoom\":true},on:{\"ready\":_vm.onMapReady}},[(_vm.isShowStartMarker)?_c('bm-marker',{attrs:{\"icon\":_vm.startPIcon,\"offset\":{ width: -1, height: -20 },\"position\":_vm.startPosition}}):_vm._e(),(_vm.isShowEndMarker)?_c('bm-marker',{attrs:{\"icon\":_vm.endPIcon,\"offset\":{ width: -1, height: -20 },\"position\":_vm.endPosition}}):_vm._e(),_c('bm-control',{attrs:{\"anchor\":\"BMAP_ANCHOR_BOTTOM_RIGHT\"}},[_c('div',{staticStyle:{\"text-align\":\"center\",\"width\":\"100vw\"}},[_c('el-button',{staticStyle:{\"margin\":\"0 10px 10px 0\"},attrs:{\"type\":\"\",\"size\":\"medium\"},on:{\"click\":_vm.clearPolylinePoints}},[_vm._v(\"重置 \")]),_c('el-button',{staticStyle:{\"margin\":\"0 0 10px 0\"},attrs:{\"type\":\"primary\",\"size\":\"medium\"},on:{\"click\":_vm.savePolylinePoints}},[_vm._v(\"完成 \")]),_c('el-button',{staticStyle:{\"margin\":\"0 0 10px 10px\"},attrs:{\"type\":\"danger\",\"size\":\"medium\"},on:{\"click\":_vm.showTrackPlaybackDialog}},[_vm._v(\"轨迹回放 \")])],1)])],1),_c('trackPlaybackDialog',{ref:\"trackPlaybackDialog\"})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-dialog',{attrs:{\"title\":_vm.title,\"visible\":_vm.dialogVisible,\"width\":\"50%\",\"before-close\":_vm.hideDialog,\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('div',{staticClass:\"dialogHeader\"},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"warning\"},on:{\"click\":_vm.playPoints}},[_vm._v(\" \"+_vm._s(_vm.play ? \"暂停\" : \"播放\")+\" \")])],1),_c('baidu-map',{staticClass:\"map\",attrs:{\"center\":_vm.centerPoint,\"zoom\":_vm.zoom,\"ak\":_vm.bdAk,\"dragging\":true,\"auto-resize\":true,\"scroll-wheel-zoom\":true},on:{\"ready\":_vm.bMapReady}},[_c('bm-polyline',{attrs:{\"stroke-color\":\"blue\",\"path\":_vm.path,\"stroke-opacity\":0.5,\"stroke-weight\":3,\"editing\":false}}),_c('bm-marker',{attrs:{\"icon\":_vm.startMarkIcon,\"position\":{ lng: _vm.startMark.lng, lat: _vm.startMark.lat }}}),_c('bm-marker',{attrs:{\"icon\":_vm.endMarkIcon,\"position\":{ lng: _vm.endMark.lng, lat: _vm.endMark.lat }}}),_c('bml-lushu',{attrs:{\"path\":_vm.path,\"icon\":_vm.icon,\"play\":_vm.play,\"rotation\":true,\"speed\":100},on:{\"stop\":_vm.reset}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n * @Description: 轨迹回放的弹窗 页面\n * @Author: mhf\n * @Date: 2023-05-09 02:39:50\n-->\n<template>\n  <el-dialog\n    :title=\"title\"\n    :visible.sync=\"dialogVisible\"\n    width=\"50%\"\n    :before-close=\"hideDialog\"\n    :close-on-click-modal=\"false\"\n  >\n    <div class=\"dialogHeader\">\n      <el-button size=\"small\" type=\"warning\" @click=\"playPoints\">\n        {{ play ? \"暂停\" : \"播放\" }}\n      </el-button>\n    </div>\n\n    <!-- 百度地图 -->\n    <baidu-map\n      @ready=\"bMapReady\"\n      class=\"map\"\n      :center=\"centerPoint\"\n      :zoom=\"zoom\"\n      :ak=\"bdAk\"\n      :dragging=\"true\"\n      :auto-resize=\"true\"\n      :scroll-wheel-zoom=\"true\"\n    >\n      <!-- 运行轨迹的路线 -->\n      <bm-polyline\n        stroke-color=\"blue\"\n        :path=\"path\"\n        :stroke-opacity=\"0.5\"\n        :stroke-weight=\"3\"\n        :editing=\"false\"\n      ></bm-polyline>\n\n      <!-- marker 可以展示的图标 起点、终点 -->\n      <bm-marker\n        :icon=\"startMarkIcon\"\n        :position=\"{ lng: startMark.lng, lat: startMark.lat }\"\n      ></bm-marker>\n      <bm-marker\n        :icon=\"endMarkIcon\"\n        :position=\"{ lng: endMark.lng, lat: endMark.lat }\"\n      ></bm-marker>\n      <bml-lushu\n        @stop=\"reset\"\n        :path=\"path\"\n        :icon=\"icon\"\n        :play=\"play\"\n        :rotation=\"true\"\n        :speed=\"100\"\n      >\n      </bml-lushu>\n    </baidu-map>\n  </el-dialog>\n</template>\n\n<script>\nimport { BmlLushu } from \"vue-baidu-map\";\n\nexport default {\n  name: \"trackPlaybackDialog\",\n  components: {\n    BmlLushu,\n  },\n  data() {\n    return {\n      title: \"\",\n      dialogVisible: false,\n      bdAk: \"lsV6XoYeHVAK0ditM4yBlatCbcIhGD6t\",\n      play: false, // 是否自动播放轨迹动画\n      path: [],\n      polylinePath: [],\n      centerPoint: {\n        lng: 120.853593,\n        lat: 27.912263,\n      }, // 地图中心点\n      zoom: 11, // 缩放层级\n      icon: {\n        // url: \"http://api.map.baidu.com/library/LuShu/1.2/examples/car.png\",\n        url: require(\"../../../public/img/mapPoint/forklist.png\"),\n        size: { width: 52, height: 26 },\n        opts: { anchor: { width: 27, height: 13 } },\n      },\n      startMark: {}, // 起点\n      startMarkIcon: {\n        url: require(\"../../../public/img/mapPoint/startP.png\"),\n        size: { width: 52, height: 38 },\n        opts: { anchor: { width: 19, height: 38 } },\n      }, // 起点图标配置\n      endMark: {}, // 终点\n      endMarkIcon: {\n        url: require(\"../../../public/img/mapPoint/endP.png\"),\n        size: { width: 52, height: 38 },\n        opts: { anchor: { width: 19, height: 38 } },\n      }, // 终点图标配置\n      BMap: null,\n    };\n  },\n\n  computed: {},\n\n  methods: {\n    showDialog(data) {\n      console.log(data);\n      this.title = data.title;\n      this.dialogVisible = true;\n      setTimeout(() => {\n        this.getPath(data);\n      }, 500);\n    },\n    hideDialog() {\n      this.dialogVisible = false;\n      this.startMark = {};\n      this.endMark = {};\n    },\n\n    /**\n     * 停止播放运行轨迹\n     * */\n    reset() {\n      this.play = false;\n    },\n\n    /**\n     * @Interface 查询运行轨迹\n     * */\n    getPath(res) {\n      this.play = false;\n      this.path = [];\n      let length = res.data.length;\n      let middle = -1;\n      if (length % 2 === 0) {\n        middle = length / 2 + 1;\n      } else {\n        middle = (length + 1) / 2;\n      }\n      res.data.forEach((item, index) => {\n        console.log(item);\n        // this.path.push({\n        //   lng: item.lng,\n        //   lat: item.lat,\n        // }); // ??? 会导致rotation失效且控制台一直报错\n        this.path.push(new this.BMap.Point(item.lng, item.lat));\n      });\n      this.centerPoint = this.path[middle]; // 地图中心点\n      this.startMark = this.path[0]; // 起点\n      this.endMark = this.path[this.path.length - 1]; // 终点\n      this.zoom = 18; // 地图缩放层级\n    },\n\n    /**\n     * 播放/暂停 运行轨迹\n     * */\n    playPoints() {\n      this.play = !this.play;\n    },\n\n    /**\n             * @Event 方法\n             * @description: 获取百度地图实例\n             //  * */\n    bMapReady({ BMap, map }) {\n      this.BMap = BMap;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n::v-deep .el-dialog {\n  min-width: 1200px !important;\n}\n\n.dialogHeader {\n  margin-top: -30px;\n}\n\n.map {\n  width: 100%;\n  height: 60vh;\n}\n\n::v-deep .anchorBL {\n  display: none !important; // 删除百度地图logo和版权信息\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./trackPlaybackDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./trackPlaybackDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./trackPlaybackDialog.vue?vue&type=template&id=92722fd4&scoped=true&\"\nimport script from \"./trackPlaybackDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./trackPlaybackDialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./trackPlaybackDialog.vue?vue&type=style&index=0&id=92722fd4&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"92722fd4\",\n  null\n  \n)\n\nexport default component.exports","<!--\n * @Description: 百度地图绘制折线/轨迹回放 页面\n * @Author: mhf\n * @Date: 2023-05-06 16:30:53\n-->\n<template>\n  <div class=\"bdMap\">\n    <baidu-map\n      class=\"map\"\n      :center=\"mapCenter\"\n      :zoom=\"mapZoom\"\n      :scroll-wheel-zoom=\"true\"\n      @ready=\"onMapReady\"\n    >\n      <bm-marker\n        v-if=\"isShowStartMarker\"\n        :icon=\"startPIcon\"\n        :offset=\"{ width: -1, height: -20 }\"\n        :position=\"startPosition\"\n      />\n      <bm-marker\n        v-if=\"isShowEndMarker\"\n        :icon=\"endPIcon\"\n        :offset=\"{ width: -1, height: -20 }\"\n        :position=\"endPosition\"\n      />\n\n      <bm-control anchor=\"BMAP_ANCHOR_BOTTOM_RIGHT\">\n        <div style=\"text-align: center; width: 100vw\">\n          <el-button\n            type=\"\"\n            size=\"medium\"\n            style=\"margin: 0 10px 10px 0\"\n            @click=\"clearPolylinePoints\"\n            >重置\n          </el-button>\n\n          <el-button\n            type=\"primary\"\n            size=\"medium\"\n            style=\"margin: 0 0 10px 0\"\n            @click=\"savePolylinePoints\"\n            >完成\n          </el-button>\n\n          <el-button\n            type=\"danger\"\n            size=\"medium\"\n            style=\"margin: 0 0 10px 10px\"\n            @click=\"showTrackPlaybackDialog\"\n            >轨迹回放\n          </el-button>\n        </div>\n      </bm-control>\n    </baidu-map>\n    <trackPlaybackDialog ref=\"trackPlaybackDialog\" />\n  </div>\n</template>\n\n<script>\nimport trackPlaybackDialog from \"@/views/vueBaiDuMapDoST/trackPlaybackDialog\";\nexport default {\n  name: \"bdMapMakePolyline\",\n  components: { trackPlaybackDialog },\n  props: {},\n  data() {\n    return {\n      mapCenter: {\n        lng: 120.853593,\n        lat: 27.912263,\n      },\n      mapZoom: 18,\n      startPIcon: {\n        url: require(\"../../../public/img/mapPoint/startP.png\"),\n        size: {\n          width: 40,\n          height: 40,\n        },\n      }, // 起点图标样式\n      endPIcon: {\n        url: require(\"../../../public/img/mapPoint/endP.png\"),\n        size: {\n          width: 40,\n          height: 40,\n        },\n      }, // 终点图标样式\n      startPosition: {}, // 起点坐标\n      endPosition: {}, // 终点坐标\n      map: null, // 地图对象\n      polylinePoints: [], // 自定义折线顶点数组\n      polylineStyle: {\n        strokeColor: \"#FF0000\",\n        strokeWeight: 5,\n      }, // 自定义折线样式\n      polylineObjs: [], // 存储所有折线对象的数组\n      isShowStartMarker: true,\n      isShowEndMarker: true,\n    };\n  },\n  methods: {\n    onMapReady(map) {\n      // 地图加载完成后的回调函数\n      this.map = map.map;\n      this.map.addEventListener(\"click\", this.onMapClick);\n      // this.map.addEventListener(\"touchstart\", this.onMapClick); // 移动端绘制折线时，添加此事件\n\n      /* todo 折线回显, 效果已实现，只是用不上 */\n      // let that = this\n      // uni.getStorage({\n      //     key: 'positionResData',\n      //     success: function (res) {\n      //         if (res.data) {\n      //             that.polylinePoints = res.data\n      //             let helpArr = []\n      //             for (let i = 0; i < that.polylinePoints.length; i++) {\n      //                 const point = new BMap.Point(that.polylinePoints[i].lng, that.polylinePoints[i].lat);\n      //                 helpArr.push(point);\n      //             }\n      //             const polyline = new BMap.Polyline(helpArr, that.polylineStyle);\n      //             that.map.addOverlay(polyline);\n      //             // that.mapCenter = helpArr[0]; // 设置起点为地图中心点\n      //             // that.mapZoom = 12\n      //             that.polylineObjs.push(polyline); // 将折线对象添加到数组中保存起来\n      //             that.map.setViewport(helpArr); // 自适应缩放地图\n      //         }\n      //     }\n      // });\n      /* todo 折线回显, 效果已实现，只是用不上 */\n\n      /* 图标回显 */\n      this.startPosition = this.polylinePoints[0];\n      this.endPosition = this.polylinePoints[this.polylinePoints.length - 1];\n    },\n\n    onMapClick(event) {\n      // 点击地图的回调函数，获取点击位置并添加到折线顶点数组中\n      const point = event.point;\n      this.polylinePoints.push(point);\n      if (this.polylinePoints.length === 1) {\n        // 生成起点坐标\n        this.startPosition = this.polylinePoints[0];\n        this.isShowStartMarker = true;\n      }\n\n      if (this.polylinePoints.length >= 2) {\n        // 生成终点坐标\n        this.endPosition = this.polylinePoints[this.polylinePoints.length - 1];\n        this.isShowEndMarker = true;\n        // 如果顶点数至少为2，则创建自定义折线并添加到地图中\n        const polyline = new BMap.Polyline(\n          this.polylinePoints,\n          this.polylineStyle\n        );\n        this.map.addOverlay(polyline);\n        this.polylineObjs.push(polyline); // 将折线对象添加到数组中保存起来\n      }\n    },\n\n    /**\n     * @Event 方法\n     * @description: 存储绘制的折线\n     * */\n    savePolylinePoints() {\n      if (this.polylinePoints.length > 1) {\n        // uni.setStorageSync('positionResData', this.polylinePoints); // 覆盖之前的内容\n        // uni.setStorageSync('unReload', 1); // 不让修改页面走详情接口否则会覆盖缓存值\n        //\n        // uni.navigateBack({\n        //     delta: 1,\n        // })\n        // // uni.$emit('updatePolylinePoints', this.polylinePoints)\n        this.$message.success(JSON.stringify(this.polylinePoints) + \"轨迹\");\n      } else {\n        this.$message.error(\"请先绘制巡检轨迹\");\n      }\n    },\n\n    /**\n     * @Event 方法\n     * @description: 打开轨迹回放的弹窗\n     * */\n    showTrackPlaybackDialog() {\n      if (this.polylinePoints.length > 1) {\n        let passData = {\n          data: this.polylinePoints,\n          title: \"轨迹回放\",\n        };\n        this.$refs.trackPlaybackDialog.showDialog(passData);\n      } else {\n        this.$message.error(\"请先绘制巡检轨迹\");\n      }\n    },\n\n    /**\n     * @Event 方法\n     * @description: 重置\n     * */\n    clearPolylinePoints() {\n      // 移除所有已绘制的折线\n      this.polylineObjs.forEach((polyline) => {\n        this.map.removeOverlay(polyline);\n      });\n      this.polylineObjs = []; // 清空数组\n      this.polylinePoints = []; // 清空顶点数组\n\n      // 移除起点终点坐标\n      this.isShowStartMarker = false;\n      this.isShowEndMarker = false;\n    },\n  },\n\n  onLoad(option) {},\n\n  created() {},\n\n  mounted() {},\n  destroyed() {},\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.bdMap {\n  width: 100%;\n  height: 100%;\n\n  .map {\n    width: 100%;\n    height: 100%;\n  }\n}\n\n::v-deep .anchorBL {\n  display: none !important;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./vueBaiDuMapDoST.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./vueBaiDuMapDoST.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./vueBaiDuMapDoST.vue?vue&type=template&id=526c63fc&scoped=true&\"\nimport script from \"./vueBaiDuMapDoST.vue?vue&type=script&lang=js&\"\nexport * from \"./vueBaiDuMapDoST.vue?vue&type=script&lang=js&\"\nimport style0 from \"./vueBaiDuMapDoST.vue?vue&type=style&index=0&id=526c63fc&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"526c63fc\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","mapCenter","mapZoom","on","onMapReady","isShowStartMarker","startPIcon","width","height","startPosition","_e","isShowEndMarker","endPIcon","endPosition","staticStyle","clearPolylinePoints","_v","savePolylinePoints","showTrackPlaybackDialog","ref","staticRenderFns","title","dialogVisible","hideDialog","$event","playPoints","_s","play","centerPoint","zoom","bdAk","bMapReady","path","startMarkIcon","lng","startMark","lat","endMarkIcon","endMark","icon","reset","name","components","BmlLushu","data","polylinePath","url","require","size","opts","anchor","BMap","computed","methods","showDialog","console","log","setTimeout","getPath","res","length","middle","forEach","item","index","push","Point","map","component","trackPlaybackDialog","props","polylinePoints","polylineStyle","strokeColor","strokeWeight","polylineObjs","addEventListener","onMapClick","event","point","polyline","Polyline","addOverlay","$message","success","JSON","stringify","error","passData","$refs","removeOverlay","onLoad","option","created","mounted","destroyed"],"sourceRoot":""}