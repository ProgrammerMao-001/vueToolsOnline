{"version":3,"file":"js/949.c89ffe36.js","mappings":"4JAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,YAAYC,YAAY,CAAC,MAAQ,OAAO,OAAS,QAAQC,MAAM,CAAC,GAAK,cAC9J,EACIC,EAAkB,GCQtB,IAAAC,EAIA,IAAAC,EAAAC,OAAAD,EAEA,GACAE,KAAA,YACAC,WAAA,GACAC,OACA,QACA,EACAC,MAAA,GACAC,QAAA,CAKAC,WACA,MAAAC,EACA,kNAEAC,EAAA,IAAAT,EAAAU,UAAAF,EAAA,CAAAG,QAAA,EAAAC,QAAA,KACAb,EAAA,IAAAC,EAAAa,IAAA,aAAAC,OAAA,CAAAL,KACAV,EAAAgB,cACA,IAAAf,EAAAgB,OAAA,uCACA,GAEAjB,EAAAkB,WAAA,GACAlB,EAAAmB,WAAA,IACAnB,EAAAoB,aACA,IAAAnB,EAAAoB,aACA,IAAApB,EAAAgB,OAAA,sBACA,IAAAhB,EAAAgB,OAAA,uBAGA,EAMAK,WACA,KAAAC,KAAA,EAEA,IACAb,EACAc,EAYAC,EAXAhB,EACA,kNAIAiB,EACA,kNAMAC,EACA,kNAMAjB,EAAA,IAAAT,EAAAU,UAAAF,EAAA,CAAAG,QAAA,EAAAC,QAAA,KACAW,EAAA,IAAAvB,EAAAU,UAAAe,EAAA,CAAAd,QAAA,EAAAC,QAAA,KACAY,EAAA,IAAAxB,EAAAU,UAAAgB,EAAA,CAAAf,QAAA,EAAAC,QAAA,KAEA,IAAAe,EAAA,CAAAb,OAAA,CAAAL,EAAAc,EAAAC,IAGAzB,EAAA,IAAAC,EAAAa,IAAA,YAAAc,GAEA5B,EAAAgB,cACA,IAAAf,EAAAgB,OAAA,uCACA,GAMAjB,EAAA6B,wBAEA,IAAAC,EAAA,IAAA7B,EAAA8B,QAAAC,KAEAhC,EAAAiC,WAAAH,GACA9B,EAAAkC,gBACAlC,EAAAmC,wBAEA,IAAAC,EAAA,IAAAnC,EAAA8B,QAAAM,MAEArC,EAAAiC,WAAAG,EACA,EAMAE,WACA,MAAA7B,EACA,kNAGAC,EAAA,IAAAT,EAAAU,UAAAF,EAAA,CAAAG,QAAA,EAAAC,QAAA,KACAb,EAAA,IAAAC,EAAAa,IAAA,aAAAC,OAAA,CAAAL,KAEAV,EAAAgB,cACA,IAAAf,EAAAgB,OAAA,uCACA,GAeAjB,EAAAkB,WAAA,GACAlB,EAAAmB,WAAA,IAIA,MAAAoB,EAAA,CACA,CACAC,MAAA,KACAC,KAAA,mEACAC,MAAAC,oBAEA,CACAH,MAAA,KACAC,KAAA,+DACAC,MAAAE,iBAEA,CACAJ,MAAA,OACAC,KAAA,qEACAC,MAAAG,kBAaAC,EAAA,IAAA7C,EAAA8B,QAAAgB,QAAAR,GAEAvC,EAAAiC,WAAAa,EACA,GAEAE,UAGA,KAAAV,UACA,EACAW,UAAA,GClL+R,I,UCO3RC,GAAY,OACd,EACA3D,EACAQ,GACA,EACA,KACA,WACA,MAIF,EAAemD,EAAiB,O","sources":["webpack://vuetools/./src/views/useTdMap/useTdMap.vue","webpack://vuetools/src/views/useTdMap/useTdMap.vue","webpack://vuetools/./src/views/useTdMap/useTdMap.vue?99ce","webpack://vuetools/./src/views/useTdMap/useTdMap.vue?e4d1"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"centerMap\",staticStyle:{\"width\":\"100%\",\"height\":\"100%\"},attrs:{\"id\":\"centerMap\"}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n * @Description: 天地图引入 页面\n * @Author: mhf\n * @Date: 2023-04-21 23:39:30\n-->\n<template>\n  <div id=\"centerMap\" class=\"centerMap\" style=\"width: 100%; height: 100%\"></div>\n</template>\n\n<script>\nlet map;\n// const zoom = 14;\n// const handler = [];\n// let viewer;\nvar T = window.T;\n\nexport default {\n  name: \"centerMap\",\n  components: {},\n  data() {\n    return {};\n  },\n  watch: {},\n  methods: {\n    /**\n     * @Event 方法\n     * @description: 初始化天地图\n     * */\n    showMap1() {\n      const imageURL =\n        \"http://t0.tianditu.gov.cn/img_w/wmts?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=img&STYLE=default&TILEMATRIXSET=w&FORMAT=tiles&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}&tk=4c3a4b8cec3d4af47a12cdd192ce35cb\";\n      //创建自定义图层对象\n      const lay = new T.TileLayer(imageURL, { minZoom: 0, maxZoom: 18 });\n      map = new T.Map(\"centerMap\", { layers: [lay] });\n      map.centerAndZoom(\n        new T.LngLat(109.79145541962566, 32.970373734783635),\n        5\n      );\n      map.setMinZoom(4); // 最小的缩放比例\n      map.setMaxZoom(18); // 最大的缩放比例\n      map.setMaxBounds(\n        new T.LngLatBounds(\n          new T.LngLat(106.141401, 33.441127),\n          new T.LngLat(107.203184, 27.675892)\n        )\n      ); // 限制展示的区域\n    },\n\n    /**\n     * @Event 方法\n     * @description: 带省份的天地图\n     * */\n    showMap2() {\n      this.zoom = 4;\n      var line;\n      var points = [];\n      var lay;\n      var lay2;\n      var imageURL =\n        \"http://t0.tianditu.gov.cn/img_w/wmts?\" +\n        \"SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=img&STYLE=default&TILEMATRIXSET=w&FORMAT=tiles\" +\n        \"&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}&tk=4c3a4b8cec3d4af47a12cdd192ce35cb\";\n\n      var imageURLT =\n        \"http://t0.tianditu.gov.cn/cia_w/wmts?\" +\n        \"SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=cia&STYLE=default&TILEMATRIXSET=w&FORMAT=tiles\" +\n        \"&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}\" +\n        \"&tk=4c3a4b8cec3d4af47a12cdd192ce35cb\";\n\n      var lay3;\n      var imageURL3 =\n        \"http://t0.tianditu.gov.cn/ibo_w/wmts?\" +\n        \"SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=ibo&STYLE=default&TILEMATRIXSET=w&FORMAT=tiles\" +\n        \"&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}\" +\n        \"&tk=4c3a4b8cec3d4af47a12cdd192ce35cb\";\n\n      //创建自定义图层对象\n      lay = new T.TileLayer(imageURL, { minZoom: 1, maxZoom: 18 });\n      lay2 = new T.TileLayer(imageURLT, { minZoom: 1, maxZoom: 18 });\n      lay3 = new T.TileLayer(imageURL3, { minZoom: 1, maxZoom: 18 });\n\n      var config = { layers: [lay, lay2, lay3] };\n\n      //初始化地图对象\n      map = new T.Map(\"centerMap\", config);\n      //设置显示地图的中心点和级别\n      map.centerAndZoom(\n        new T.LngLat(109.67291896206848, 32.855915983379035),\n        5\n      );\n      /* 限制拖动距离 */\n      // var bounds = \"116.27648,39.84042,116.4605,39.9721\".split(\",\");\n      // map.setMaxBounds(new T.LngLatBounds(new T.LngLat(bounds[0], bounds[1]), new T.LngLat(bounds[2], bounds[3])));\n      //允许鼠标滚轮缩放地图\n      map.enableScrollWheelZoom();\n      //创建缩放平移控件对象\n      var control = new T.Control.Zoom();\n      //添加缩放平移控件\n      map.addControl(control);\n      map.enableInertia();\n      map.enableDoubleClickZoom();\n      //创建比例尺控件对象\n      var scale = new T.Control.Scale();\n      //添加比例尺控件\n      map.addControl(scale);\n    },\n\n    /**\n     * @Event 方法\n     * @description: 图层可切换（卫星图）\n     * */\n    showMap3() {\n      const imageURL =\n        \"http://t0.tianditu.gov.cn/img_w/wmts?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=img&STYLE=default&TILEMATRIXSET=w&FORMAT=tiles&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}&tk=4c3a4b8cec3d4af47a12cdd192ce35cb\";\n      //创建自定义图层对象\n      // const lay = new T.TileLayer(imageURL, {minZoom: 13, maxZoom: 18});\n      const lay = new T.TileLayer(imageURL, { minZoom: 0, maxZoom: 18 });\n      map = new T.Map(\"centerMap\", { layers: [lay] });\n      // console.log(map);\n      map.centerAndZoom(\n        new T.LngLat(109.79145541962566, 32.970373734783635),\n        5\n      );\n      // map.centerAndZoom(new T.LngLat(31.898748, 120.27348), 11);\n      // map.addEventListener('maptypechange', (e) => {\n      //     // console.log(e);\n      //     //e.mapType 就是 当前切换的MapType 配置的地图\n      //     if (e.mapType.name == 'TMAP_NORMAL_MAP') {\n      //         // 普通地图 覆盖图隐藏\n      //         this.img_nj.hide();\n      //         this.img_jzs.hide();\n      //     } else {\n      //         this.img_nj.show();\n      //         this.img_jzs.show();\n      //     }\n      // });\n      map.setMinZoom(1); // 最小的缩放比例\n      map.setMaxZoom(18); // 最大的缩放比例\n      /* todo 限制拖动范围 */\n      // map.setMaxBounds(new T.LngLatBounds(new T.LngLat(106.141401, 33.441127), new T.LngLat(107.203184, 27.675892))); // 限制展示的区域\n\n      const typeArr = [\n        {\n          title: \"卫星\",\n          icon: \" http://api.tianditu.gov.cn/v4.0/image/map/maptype/satellite.png\",\n          layer: TMAP_SATELLITE_MAP,\n        },\n        {\n          title: \"地图\", //地图控件上所要显示的图层名称\n          icon: \"http://api.tianditu.gov.cn/v4.0/image/map/maptype/vector.png\", //地图控件上所要显示的图层图标（默认图标大小80x80）\n          layer: TMAP_NORMAL_MAP, //地图类型对象，即MapType。\n        },\n        {\n          title: \"卫星混合\",\n          icon: \"http://api.tianditu.gov.cn/v4.0/image/map/maptype/satellitepoi.png\",\n          layer: TMAP_HYBRID_MAP,\n        },\n        // {\n        //   title: \"地形\",\n        //   icon: \" http://api.tianditu.gov.cn/v4.0/image/map/maptype/terrain.png\",\n        //   layer: \"TMAP_TERRAIN_MAP\"\n        // },\n        // {\n        //   title: \"地形混合\",\n        //   icon: \" http://api.tianditu.gov.cn/v4.0/image/map/maptype/terrainpoi.png\",\n        //   layer: \"TMAP_TERRAIN_HYBRID_MAP\"\n        // }\n      ];\n      const ctrl = new T.Control.MapType(typeArr);\n      //添加控件\n      map.addControl(ctrl);\n    },\n  },\n  mounted() {\n    // this.showMap1();\n    // this.showMap2();\n    this.showMap3();\n  },\n  created() {},\n};\n</script>\n\n<style lang=\"scss\" scoped></style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./useTdMap.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./useTdMap.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./useTdMap.vue?vue&type=template&id=492e9856&scoped=true&\"\nimport script from \"./useTdMap.vue?vue&type=script&lang=js&\"\nexport * from \"./useTdMap.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"492e9856\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","staticStyle","attrs","staticRenderFns","map","T","window","name","components","data","watch","methods","showMap1","imageURL","lay","TileLayer","minZoom","maxZoom","Map","layers","centerAndZoom","LngLat","setMinZoom","setMaxZoom","setMaxBounds","LngLatBounds","showMap2","zoom","lay2","lay3","imageURLT","imageURL3","config","enableScrollWheelZoom","control","Control","Zoom","addControl","enableInertia","enableDoubleClickZoom","scale","Scale","showMap3","typeArr","title","icon","layer","TMAP_SATELLITE_MAP","TMAP_NORMAL_MAP","TMAP_HYBRID_MAP","ctrl","MapType","mounted","created","component"],"sourceRoot":""}