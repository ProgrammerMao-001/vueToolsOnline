"use strict";(self["webpackChunkvuetools"]=self["webpackChunkvuetools"]||[]).push([[234],{50234:function(t,o,e){e.r(o),e.d(o,{default:function(){return x}});var i=function(){var t=this,o=t._self._c;return o("div",{staticClass:"map"},[o("baidu-map",{staticClass:"map",attrs:{center:t.mapCenter,zoom:t.mapZoom,"scroll-wheel-zoom":!0},on:{ready:t.onMapReady,click:function(o){return t.onMapClick(o)}}},[o("bm-geolocation",{attrs:{anchor:"BMAP_ANCHOR_BOTTOM_RIGHT",showAddressBar:!0,autoLocation:!0},on:{locationSuccess:t.handleLocationSuccess}}),o("bml-marker-clusterer",{attrs:{averageCenter:!0}},[t._l(t.markerPoints,(function(e,i){return o("bm-marker",{key:i,attrs:{position:e,icon:t.markerIcon},on:{click:function(o){return t.markerClick(e,i)}}})})),o("bm-marker",{attrs:{position:t.locationPoint},on:{click:t.infoWindowOpen}}),o("bm-info-window",{attrs:{show:t.showInfoWindow,position:t.locationPoint,offset:{width:8,height:-20}},on:{close:t.infoWindowClose,open:t.infoWindowOpen}},[t._v(" 你的位置 ")])],2),t._l(t.polygonPath,(function(t,e){return o("bm-polygon",{key:t.toString(),attrs:{path:t,"stroke-color":"#1492FF","fill-color":"#1492FF","fill-opacity":.2,"stroke-opacity":1,"stroke-weight":3}})})),o("bm-control",[o("el-button",{staticStyle:{margin:"20px 0 0 20px"},attrs:{type:"primary",size:"small"},on:{click:t.showDrawPolylineDialog}},[t._v("绘制折线 ")]),o("el-button",{staticStyle:{margin:"20px 0 0 20px"},attrs:{type:"primary",size:"small"},on:{click:t.showDrawAreaDialog}},[t._v("绘制多边形弹窗 ")]),o("el-button",{staticStyle:{margin:"20px 0 0 20px"},attrs:{type:"primary",size:"small"},on:{click:t.drawArea}},[t._v(t._s(t.isDraw?"删除多边形":"绘制多边形")+" ")]),o("el-button",{staticStyle:{margin:"20px 0 0 20px"},attrs:{type:"primary",size:"small"},on:{click:t.getVisibleAreaPointsBtn}},[t._v("可视区坐标 ")]),o("el-button",{staticStyle:{margin:"20px 0 0 20px"},attrs:{type:"primary",size:"small"},on:{click:t.getMapZoom}},[t._v("地图缩放层级 ")])],1)],2),o("el-dialog",{attrs:{title:"点位",visible:t.dialogVisible,width:"39%","before-close":t.hideDialog},on:{"update:visible":function(o){t.dialogVisible=o}}},[o("div",[t._v(" "+t._s(t.dialogData)+" ")]),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:t.hideDialog}},[t._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:t.hideDialog}},[t._v("确 定")])],1)]),o("drawPolylineDialog",{ref:"drawPolylineDialog"}),o("drawAreaDialog",{ref:"drawAreaDialog"})],1)},l=[],n=(e(57658),function(){var t=this,o=t._self._c;return o("el-dialog",{attrs:{title:"绘制折线",width:"43%",visible:t.dialogVisible,"before-close":t.hideDialog,"close-on-click-modal":!1},on:{"update:visible":function(o){t.dialogVisible=o}}},[o("div",{staticClass:"dialog-body"},[o("baidu-map",{staticClass:"map",attrs:{center:t.mapCenter,zoom:t.mapZoom,"scroll-wheel-zoom":!0},on:{mousemove:t.syncPolyline,click:t.paintPolyline,rightclick:t.newPolyline}},[o("bm-control",[o("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(o){return t.toggle("polyline")}}},[t._v(t._s(t.polyline.editing?"停止绘制":"开始绘制"))])],1),t._l(t.polyline.paths,(function(t){return o("bm-polyline",{attrs:{path:t}})}))],2)],1),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:t.hideDialog}},[t._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:t.hideDialog}},[t._v("确 定")])],1)])}),a=[],s={name:"drawAreaDialog",components:{},props:{},data(){return{dialogVisible:!1,mapCenter:{lng:119.93344129237624,lat:28.464762954747187},mapZoom:13,polyline:{editing:!1,paths:[]}}},methods:{hideDialog(){this.dialogVisible=!1},showDialog(){this.dialogVisible=!0},toggle(t){this[t].editing=!this[t].editing},syncPolyline(t){if(!this.polyline.editing)return;const{paths:o}=this.polyline;if(!o.length)return;const e=o[o.length-1];e.length&&(1===e.length&&e.push(t.point),this.$set(e,e.length-1,t.point))},newPolyline(t){if(!this.polyline.editing)return;const{paths:o}=this.polyline;o.length||o.push([]);const e=o[o.length-1];e.pop(),e.length&&o.push([])},paintPolyline(t){if(!this.polyline.editing)return;const{paths:o}=this.polyline;!o.length&&o.push([]),o[o.length-1].push(t.point)}},created(){},mounted(){}},r=s,g=e(1001),p=(0,g.Z)(r,n,a,!1,null,"9a641dbe",null),u=p.exports,d=function(){var t=this,o=t._self._c;return o("el-dialog",{attrs:{title:"绘制区域",width:"50%",visible:t.dialogVisible,"before-close":t.hideDialog,"close-on-click-modal":!1},on:{"update:visible":function(o){t.dialogVisible=o}}},[o("div",{staticClass:"dialog-body"},[o("baidu-map",{staticClass:"map",attrs:{center:t.center,zoom:t.zoom,"map-click":!1,"scroll-wheel-zoom":!0},on:{mousemove:t.syncPolygon,ready:t.handler,click:t.paintPolygon,rightclick:t.newPolygon}},[t._l(t.polygonPath.paths,(function(e){return o("bm-polygon",{key:e.toString(),attrs:{path:e,"stroke-color":"#1492FF","fill-color":"#1492FF","fill-opacity":.2,"stroke-opacity":1,"stroke-weight":3},on:{click:t.alertpath}})})),o("bm-control",[o("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(o){return t.toggle("polygonPath")}}},[t._v(" "+t._s(t.polygonPath.editing?"停止绘制":"开始绘制")+" ")])],1)],2)],1),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:t.hideDialog}},[t._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:t.hideDialog}},[t._v("确 定")])],1)])},c=[],h={name:"drawAreaDialog",components:{},props:{},data(){return{dialogVisible:!1,haha:"百度地图",center:{lng:119.93344129237624,lat:28.464762954747187},zoom:13,polygonPath:{editing:!1,paths:[]}}},methods:{handler({BMap:t,map:o}){console.log(t,o)},getClickInfo(t){console.log(t.point.lng),console.log(t.point.lat)},toggle(t){this[t].editing=!this[t].editing,this.polygonPath.paths&&this.polygonPath.editing&&(this.polygonPath.paths=[])},syncPolygon(t){if(!this.polygonPath.editing)return;const{paths:o}=this.polygonPath;if(!o.length)return;const e=o[o.length-1];e.length&&(1===e.length&&e.push(t.point),this.$set(e,e.length-1,t.point))},newPolygon(t){if(!this.polygonPath.editing)return;this["polygonPath"].editing=!this["polygonPath"].editing;const{paths:o}=this.polygonPath;o.length||o.push([]);const e=o[o.length-1];e.pop(),e.length&&o.push([])},paintPolygon(t){if(!this.polygonPath.editing)return;const{paths:o}=this.polygonPath;!o.length&&o.push([]),o[o.length-1].push(t.point)},alertpath(t){console.log(t.currentTarget.so),console.log(this.polygonPath.paths[0])},hideDialog(){this.dialogVisible=!1},showDialog(){this.dialogVisible=!0}},created(){},mounted(){}},y=h,m=(0,g.Z)(y,d,c,!1,null,"3699ddb6",null),f=m.exports,b=e(8867),w={name:"vueBaiDuMap",components:{drawPolylineDialog:u,drawAreaDialog:f,BmlMarkerClusterer:b.BmlMarkerClusterer},props:{},data(){return{mapCenter:{lng:119.93344129237624,lat:28.464762954747187},mapZoom:13,markerPoints:[],points:e(62074).aT,markerIcon:{url:e(53898),size:{width:36,height:36}},dialogVisible:!1,dialogData:null,polygonPath:[],isDraw:!1,map:null,visibleAreaPoints:{},locationPoint:{},showInfoWindow:!0}},methods:{handleLocationSuccess(t){console.log(t)},markerClick(t,o){this.dialogVisible=!0,this.dialogData=this.markerPoints[o]},getPoints(){this.points.forEach(((t,o)=>{this.markerPoints.push({id:t.clusterId,lng:t.x,lat:t.y})}))},getMapZoom(){this.$message.success(this.map.getZoom())},hideDialog(){this.dialogVisible=!1},showDrawPolylineDialog(){this.$refs.drawPolylineDialog.showDialog()},showDrawAreaDialog(){this.$refs.drawAreaDialog.showDialog()},drawArea(){this.isDraw=!this.isDraw,this.polygonPath=this.isDraw?e(91625).aT:[]},onMapReady(t){console.log(t),this.map=t.map,this.map.addEventListener("dragend",this.getVisibleAreaPoints),this.map.addEventListener("zoomend",this.getVisibleAreaPoints),console.log(t.BMap);let o=this;var e=new t.BMap.Geolocation;e.getCurrentPosition((function(t){o.mapCenter={lng:t.longitude,lat:t.latitude},o.locationPoint={lng:t.longitude,lat:t.latitude},o.mapZoom=18,o.showInfoWindow=!0,console.log("center:",o.mapCenter)}),{enableHighAccuracy:!0})},onMapClick(t){this.markerPoints.push(t.point);let o,e="",i={},l=new window.BMap.Point(t.point.lng,t.point.lat);const n=new window.BMap.Geocoder;n.getLocation(l,(t=>{console.log(t),o=t.address.toString(),e=t.surroundingPois.length>0?t.surroundingPois[0].title.toString():"",i.address=o+e})),i.point=t.point,console.log("resData:",i)},getVisibleAreaPoints(){const t=this.map.getBounds(),o=t.getNorthEast(),e=new BMap.Point(o.lng,t.getSouthWest().lat),i=new BMap.Point(t.getSouthWest().lng,o.lat),l=t.getSouthWest();console.log("东北角的坐标：",o),console.log("东南角的坐标：",e),console.log("西北角的坐标：",i),console.log("西南角的坐标：",l),this.visibleAreaPoints={northEast:o,southEast:e,northWest:i,southWest:l}},getVisibleAreaPointsBtn(){this.getVisibleAreaPoints(),this.$message.success(JSON.stringify(this.visibleAreaPoints))},infoWindowClose(){this.showInfoWindow=!1},infoWindowOpen(){console.log(1),this.showInfoWindow=!0}},created(){this.getPoints()},mounted(){}},P=w,k=(0,g.Z)(P,i,l,!1,null,"8adf8bde",null),x=k.exports},53898:function(t){t.exports="data:image/png;base64,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"},91625:function(t){t.exports=JSON.parse('{"aT":[[{"lng":119.917344,"lat":28.510226},{"lng":119.868188,"lat":28.43961},{"lng":119.975123,"lat":28.424363},{"lng":119.99352,"lat":28.497783},{"lng":119.934591,"lat":28.467557},{"lng":119.954426,"lat":28.51632}],[{"lng":120.024565,"lat":28.513527},{"lng":119.971961,"lat":28.471114},{"lng":120.014504,"lat":28.413181},{"lng":120.009618,"lat":28.513019},{"lng":120.055898,"lat":28.454347}]]}')},62074:function(t){t.exports=JSON.parse('{"aT":[{"clusterId":-1,"pointCount":10,"x":0,"y":0,"data":{"id":-1,"soleName":null,"longitude":0,"latitude":0,"groupType":0},"cluster":true},{"clusterId":19092,"pointCount":0,"x":120.707596,"y":32.177906000000036,"data":{"id":19092,"soleName":null,"longitude":120.707596,"latitude":32.177906,"groupType":0},"cluster":false},{"clusterId":13,"pointCount":0,"x":119.94566899999997,"y":28.47721500000003,"data":{"id":13,"longitude":119.945669,"latitude":28.477215,"groupType":7},"cluster":false},{"clusterId":18,"pointCount":0,"x":119.93474500000004,"y":28.441743000000002,"data":{"id":18,"longitude":119.934745,"latitude":28.441743,"groupType":7},"cluster":false},{"clusterId":19,"pointCount":0,"x":119.97269,"y":28.498137,"data":{"id":19,"longitude":119.97269,"latitude":28.498137,"groupType":7},"cluster":false},{"clusterId":23,"pointCount":0,"x":119.96535900000003,"y":28.463244000000017,"data":{"id":23,"longitude":119.965359,"latitude":28.463244,"groupType":8},"cluster":false},{"clusterId":26,"pointCount":2,"x":119.93983495465487,"y":28.468624388296718,"data":null,"cluster":true},{"clusterId":27,"pointCount":0,"x":119.9667680079382,"y":28.47058781908956,"data":{"id":27,"longitude":119.96676800793821,"latitude":28.47058781908956,"groupType":6},"cluster":false},{"clusterId":28,"pointCount":0,"x":119.94118426541667,"y":28.461185241132853,"data":{"id":28,"longitude":119.9411842654167,"latitude":28.461185241132828,"groupType":6},"cluster":false},{"clusterId":29,"pointCount":2,"x":119.92901101598363,"y":28.46245138426704,"data":null,"cluster":true},{"clusterId":30,"pointCount":0,"x":119.93054725405256,"y":28.492017666758713,"data":{"id":30,"longitude":119.93054725405253,"latitude":28.492017666758706,"groupType":6},"cluster":false},{"clusterId":56,"pointCount":3,"x":119.93524489214632,"y":28.465284122333628,"data":null,"cluster":true},{"clusterId":57,"pointCount":0,"x":119.95441515962155,"y":28.47167472473771,"data":{"id":57,"longitude":119.95441515962155,"latitude":28.471674724737692,"groupType":8},"cluster":false},{"clusterId":69,"pointCount":0,"x":119.92249862655683,"y":28.487483056189433,"data":{"id":69,"longitude":119.92249862655683,"latitude":28.48748305618944,"groupType":6},"cluster":false},{"clusterId":84,"pointCount":0,"x":119.9092751639679,"y":28.494904431177986,"data":{"id":84,"longitude":119.9092751639679,"latitude":28.494904431178,"groupType":4},"cluster":false},{"clusterId":90,"pointCount":0,"x":119.90366782792837,"y":28.47566567969669,"data":{"id":90,"longitude":119.90366782792837,"latitude":28.47566567969669,"groupType":4},"cluster":false},{"clusterId":91,"pointCount":0,"x":119.98417541060682,"y":28.5109908606465,"data":{"id":91,"longitude":119.98417541060682,"latitude":28.510990860646483,"groupType":4},"cluster":false},{"clusterId":93,"pointCount":0,"x":119.90639897879473,"y":28.46788587181382,"data":{"id":93,"longitude":119.90639897879471,"latitude":28.467885871813824,"groupType":4},"cluster":false},{"clusterId":96,"pointCount":0,"x":119.91905001626886,"y":28.478514031625764,"data":{"id":96,"longitude":119.91905001626886,"latitude":28.478514031625757,"groupType":11},"cluster":false},{"clusterId":98,"pointCount":0,"x":119.90410846472986,"y":28.489474506510092,"data":{"id":98,"longitude":119.90410846472986,"latitude":28.489474506510092,"groupType":4},"cluster":false}]}')}}]);
//# sourceMappingURL=234.a3bc55e8.js.map