{"version":3,"file":"js/693.1e50eec1.js","mappings":"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","sources":["webpack://vuetools/./src/components/fileUpload/fileUpload.vue","webpack://vuetools/src/components/fileUpload/fileUpload.vue","webpack://vuetools/./src/components/fileUpload/fileUpload.vue?1736","webpack://vuetools/./src/components/fileUpload/fileUpload.vue?5c17"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-dialog',{attrs:{\"title\":\"uploadFile\",\"visible\":_vm.dialogVisible,\"width\":\"60%\",\"append-to-body\":true,\"modal-append-to-body\":false,\"before-close\":_vm.closeDialog},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('div',{staticClass:\"upload-file-box\"},[_c('el-upload',{attrs:{\"action\":_vm.fileUrl,\"headers\":_vm.headers,\"before-upload\":_vm.beforeUpload,\"on-preview\":_vm.handlePreview,\"on-remove\":_vm.handleRemove,\"on-success\":_vm.handleSuccess,\"before-remove\":_vm.beforeRemove,\"multiple\":\"\",\"limit\":5,\"on-exceed\":_vm.handleExceed,\"file-list\":_vm.fileList}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\",\"icon\":\"el-icon-plus\"}},[_vm._v(\"上传文件\")])],1)],1),_c('div',[_c('el-dialog',{attrs:{\"title\":\"附件预览\",\"visible\":_vm.dialogVisible1,\"width\":\"70%\",\"before-close\":_vm.closeDialog1,\"modal-append-to-body\":false,\"append-to-body\":true},on:{\"update:visible\":function($event){_vm.dialogVisible1=$event}}},[_c('iframe',{staticStyle:{\"width\":\"100%\",\"height\":\"600px\"},attrs:{\"src\":_vm.pathFile}}),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{staticClass:\"filter_button\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.dialogVisible1 = false}}},[_vm._v(\"关 闭\")])],1)])],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.closeDialog}},[_vm._v(\"关 闭\")])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-dialog\n    title=\"uploadFile\"\n    :visible.sync=\"dialogVisible\"\n    width=\"60%\"\n    :append-to-body=\"true\"\n    :modal-append-to-body=\"false\"\n    :before-close=\"closeDialog\"\n  >\n    <div class=\"upload-file-box\">\n      <el-upload\n        :action=\"fileUrl\"\n        :headers=\"headers\"\n        :before-upload=\"beforeUpload\"\n        :on-preview=\"handlePreview\"\n        :on-remove=\"handleRemove\"\n        :on-success=\"handleSuccess\"\n        :before-remove=\"beforeRemove\"\n        multiple\n        :limit=\"5\"\n        :on-exceed=\"handleExceed\"\n        :file-list=\"fileList\"\n      >\n        <el-button size=\"small\" type=\"primary\" icon=\"el-icon-plus\"\n          >上传文件</el-button\n        >\n        <!-- <div slot=\"tip\" class=\"el-upload__tip\">可上传图片、Excel、Word、pdf格式文件</div> -->\n      </el-upload>\n    </div>\n\n    <!-- 附件预览的弹窗 -->\n    <div>\n      <el-dialog\n        title=\"附件预览\"\n        :visible.sync=\"dialogVisible1\"\n        width=\"70%\"\n        :before-close=\"closeDialog1\"\n        :modal-append-to-body=\"false\"\n        :append-to-body=\"true\"\n      >\n        <iframe style=\"width: 100%; height: 600px\" :src=\"pathFile\"></iframe>\n        <div slot=\"footer\" class=\"dialog-footer\">\n          <el-button\n            class=\"filter_button\"\n            type=\"primary\"\n            @click=\"dialogVisible1 = false\"\n            >关 闭</el-button\n          >\n        </div>\n      </el-dialog>\n    </div>\n\n    <span slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"closeDialog\">关 闭</el-button>\n    </span>\n  </el-dialog>\n</template>\n\n<script>\nexport default {\n  name: \"fileUpload\",\n  data() {\n    return {\n      dialogVisible: false,\n      dialogVisible1: false,\n      // fileUrl: 'https://kpgl.yjj.sx.gov.cn:8866/v1/base/picture/upload', // 图片上传的接口\n      fileUrl: \"https://kpgl.yjj.sx.gov.cn:8867/api/file/upload\", // 文件上传的接口\n\n      /* 获取 Authorization */\n      /* 登录地址：https://kpgl.yjj.sx.gov.cn:8866/sxkaopei/ */\n      /* 账号：shaoxing */\n      /* 密码：Sxs.@123 */\n      /* 二级密码：sxadmin2021 */\n\n      headers: { Authorization: \"ae5a662fc3d84e3680fa63c1ae32e57a\" },\n      pathFile: \"\",\n      fileUrlLoad: \"https://kpgl.yjj.sx.gov.cn:8867/file\", // 文件回显的接口\n      fileList: [],\n      formData: {\n        enclosureFiles: [],\n      },\n    };\n  },\n  methods: {\n    showDialog() {\n      this.dialogVisible = true;\n    },\n    closeDialog() {\n      this.dialogVisible = false;\n    },\n    closeDialog1() {\n      this.dialogVisible1 = false;\n    },\n\n    /* 文件上传 */\n    beforeUpload(file) {\n      // const success = uploadType(file, 'fileAndImage');\n      // if (!success) {\n      //     this.$message.warning('上传文件只能是 图片（jpg/png）/pdf/word/excel 格式!');\n      // }\n      // return success;\n    },\n    handlePreview(file) {\n      console.log(file);\n      this.dialogVisible1 = true;\n      if (file.url) {\n        this.pathFile = this.fileUrlLoad + file.url;\n      }\n      if (file.path) {\n        this.pathFile = this.fileUrlLoad + file.path;\n      } else {\n        this.pathFile = this.fileUrlLoad + file.response.data.path;\n      }\n    },\n    handleRemove(file, fileList) {\n      const that = this;\n      this.formData.enclosureFiles.forEach((item, index) => {\n        if (file.response) {\n          if (item.id === file.response.data.id) {\n            this.formData.enclosureFiles.splice(index, 1);\n          }\n        } else {\n          if (item.id === file.id) {\n            this.formData.enclosureFiles.splice(index, 1);\n          }\n        }\n      });\n    },\n    handleSuccess(response, file, fileList) {\n      // console.log(response);\n      this.formData.enclosureFiles.push({\n        uid: file.uid,\n        id: response.data.id,\n      });\n    },\n    beforeRemove(file, fileList) {\n      // return this.$confirm(`确定移除 ${file.name}？`);\n    },\n    handleExceed(files, fileList) {\n      this.$message.warning(\n        `当前限制选择 5 个文件，本次选择了 ${files.length} 个文件，共选择了 ${\n          files.length + fileList.length\n        } 个文件`\n      );\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.upload-file-box {\n  height: 380px;\n  overflow: auto;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./fileUpload.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./fileUpload.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./fileUpload.vue?vue&type=template&id=611d8794&scoped=true&\"\nimport script from \"./fileUpload.vue?vue&type=script&lang=js&\"\nexport * from \"./fileUpload.vue?vue&type=script&lang=js&\"\nimport style0 from \"./fileUpload.vue?vue&type=style&index=0&id=611d8794&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"611d8794\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","dialogVisible","closeDialog","on","$event","staticClass","fileUrl","headers","beforeUpload","handlePreview","handleRemove","handleSuccess","beforeRemove","handleExceed","fileList","_v","dialogVisible1","closeDialog1","staticStyle","pathFile","slot","staticRenderFns","name","data","Authorization","fileUrlLoad","formData","enclosureFiles","methods","showDialog","file","console","log","url","path","response","forEach","item","index","id","splice","push","uid","files","$message","warning","length","component"],"sourceRoot":""}