"use strict";(self["webpackChunkvuetools"]=self["webpackChunkvuetools"]||[]).push([[693],{4693:function(e,i,l){l.r(i),l.d(i,{default:function(){return n}});var o=function(){var e=this,i=e._self._c;return i("el-dialog",{attrs:{title:"uploadFile",visible:e.dialogVisible,width:"60%","append-to-body":!0,"modal-append-to-body":!1,"before-close":e.closeDialog},on:{"update:visible":function(i){e.dialogVisible=i}}},[i("div",{staticClass:"upload-file-box"},[i("el-upload",{attrs:{action:e.fileUrl,headers:e.headers,"before-upload":e.beforeUpload,"on-preview":e.handlePreview,"on-remove":e.handleRemove,"on-success":e.handleSuccess,"before-remove":e.beforeRemove,multiple:"",limit:5,"on-exceed":e.handleExceed,"file-list":e.fileList}},[i("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"}},[e._v("上传文件")])],1)],1),i("div",[i("el-dialog",{attrs:{title:"附件预览",visible:e.dialogVisible1,width:"70%","before-close":e.closeDialog1,"modal-append-to-body":!1,"append-to-body":!0},on:{"update:visible":function(i){e.dialogVisible1=i}}},[i("iframe",{staticStyle:{width:"100%",height:"600px"},attrs:{src:e.pathFile}}),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{staticClass:"filter_button",attrs:{type:"primary"},on:{click:function(i){e.dialogVisible1=!1}}},[e._v("关 闭")])],1)])],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:e.closeDialog}},[e._v("关 闭")])],1)])},t=[],s={name:"fileUpload",data(){return{dialogVisible:!1,dialogVisible1:!1,fileUrl:"https://kpgl.yjj.sx.gov.cn:8867/api/file/upload",headers:{Authorization:"ae5a662fc3d84e3680fa63c1ae32e57a"},pathFile:"",fileUrlLoad:"https://kpgl.yjj.sx.gov.cn:8867/file",fileList:[],formData:{enclosureFiles:[]}}},methods:{showDialog(){this.dialogVisible=!0},closeDialog(){this.dialogVisible=!1},closeDialog1(){this.dialogVisible1=!1},beforeUpload(e){},handlePreview(e){console.log(e),this.dialogVisible1=!0,e.url&&(this.pathFile=this.fileUrlLoad+e.url),e.path?this.pathFile=this.fileUrlLoad+e.path:this.pathFile=this.fileUrlLoad+e.response.data.path},handleRemove(e,i){this.formData.enclosureFiles.forEach(((i,l)=>{e.response?i.id===e.response.data.id&&this.formData.enclosureFiles.splice(l,1):i.id===e.id&&this.formData.enclosureFiles.splice(l,1)}))},handleSuccess(e,i,l){this.formData.enclosureFiles.push({uid:i.uid,id:e.data.id})},beforeRemove(e,i){},handleExceed(e,i){this.$message.warning(`当前限制选择 5 个文件，本次选择了 ${e.length} 个文件，共选择了 ${e.length+i.length} 个文件`)}}},a=s,d=l(3736),r=(0,d.Z)(a,o,t,!1,null,"611d8794",null),n=r.exports}}]);
//# sourceMappingURL=693.1e50eec1.js.map